/*! project-name v0.0.1 | (c) 2021 YOUR NAME | MIT License | http://link-to-your-git-repo.com */
gsap.registerPlugin(ScrollTrigger),ScrollTrigger.create({trigger:".map-image",endTrigger:".map-description-third",start:"center center",end:()=>{const e=window.innerHeight,t=document.querySelector(".map-peru .map-image").offsetHeight;return`bottom ${t+(e-t)/2-(window.innerWidth<400?90:0)}px`},pin:!0,pinSpacing:!1}),gsap.to(".piura-region",{scrollTrigger:{trigger:".map-description-second",start:()=>{return`top ${2*document.querySelector(".map-peru .map-image").offsetHeight/5}px`},toggleActions:"play none none reverse"},fill:"#EA7753",duration:.3,ease:"power3.easeOut"}),gsap.set(".map-piura-dots path",{scale:0,transformOrigin:"50% 50%"}),gsap.set(".map-piura-paths polyline, .map-piura-paths line",{drawSVG:"100% 100%"}),gsap.set(".map-piura-community, .piura-communities-cerro .community-cerro",{y:"+=5",opacity:0});const stPiuraMap={trigger:".map-piura",start:"top center",end:"bottom 0"},piuraMapTl=gsap.timeline({scrollTrigger:stPiuraMap});piuraMapTl.to(".map-piura-community, .piura-communities-cerro .community-cerro",{y:"0",opacity:1,duration:.4,ease:"back.out(1.4)",stagger:{each:.1,from:"random"}},.2).to(".map-piura-paths polyline, .map-piura-paths line",{drawSVG:"0 100%",duration:1,ease:"none"}).to(".map-piura-dots path",{scale:1,ease:"back.out(1.7)",duration:.3});var path=document.querySelector("#pathRecrut"),pathLength=path.getTotalLength();path.style.strokeDasharray=pathLength+" "+pathLength,path.style.strokeDashoffset=pathLength;const animatePiuraPath=()=>{d3.select("#pathRecrut").classed("animate",!0),gsap.to(".community-cerro",{fill:"#DD5F3D",duration:.2,delay:.9,ease:Power3.easeOut})};let piuraAnimationIsComplete=!1;document.querySelector(".cdl-touch").addEventListener("click",()=>{piuraAnimationIsComplete||(d3.select("#pathRecrut").classed("animate",!0),gsap.to(".community-cerro",{fill:"#DD5F3D",duration:.2,delay:.9,ease:Power3.easeOut}),piuraAnimationIsComplete=!0)});