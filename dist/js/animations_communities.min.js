/*! project-name v0.0.1 | (c) 2021 YOUR NAME | MIT License | http://link-to-your-git-repo.com */
const start25=5,start50=10,start75=15,start100=20,getTransition=()=>d3.transition().duration(200),illustrations=["community","school","distance","waterMCL","solution","coloring"],illustrationsInfo=[{community:"cerro-de-leones",animals:[{id:"cow",selector:""},{id:"chicken",selector:""}]},{community:"las-mercedes-km11",animals:[{id:"chicken1",selector:""},{id:"chicken2",selector:""}]},{community:"la-merced",animals:[{id:"chicken1",selector:""},{id:"chicken2",selector:""}]},{community:"totoral-bajo",animals:[{id:"chicken1",selector:""},{id:"chicken2",selector:""}]},{community:"las-mercedes",animals:[{id:"cow1",selector:""},{id:"cow2",selector:""}]},{community:"totoral-alto",animals:{id:"cow",selector:""}},{community:"carizalillo",animals:{id:"cow",selector:""}}],triggerAnimations=t=>{const o=illustrationsInfo.find(o=>o.community===t);illustrations.forEach(o=>{d3.select(`.village-${t} .section-${o}`).append("div").attr("class","counter").text("0%")});const e=(o,e)=>{d3.select(`.village-${t} .section-${o} .counter`).transition(getTransition()).style("opacity",0).transition(getTransition()).text(`${e}%`).transition(getTransition()).style("opacity",1)},i=(t,o)=>{gsap.timeline().to(t,{morphSVG:o,x:"-=10",y:y="-=15",duration:.4,ease:"none"},0).to(t,{morphSVG:t,x:"-=10",y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:o,x:"-=10",y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:t,x:"-=10",y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:o,x:"-=10",y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:t,x:"-=10",y:y="-=15",duration:.4,ease:"none"},">")},n={trigger:`.village-${t} .section-community svg`,start:"top center",end:"bottom 0",onEnterBack:()=>a.restart(),onLeave:()=>a.pause()},a=gsap.timeline({scrollTrigger:n});o.animals.forEach(o=>{o.selector=document.querySelectorAll(`#${t}-community-${o.id} path, #${t}-community-${o.id} line, #${t}-community-${o.id} polyline`),gsap.set(o.selector,{drawSVG:0})}),console.log(o.animals);gsap.set(`#${t}-community-wheel-back, #${t}-community-wheel-front`,{transformOrigin:"50% 50%"},0);a.call(e,["community",25],5).call(()=>{gsap.to(`#cloud-color-1, #${t}-community-clouds-back`,{opacity:.42,duration:1,ease:"power1.out"}),gsap.to(`#${t}-community-sun-color`,{opacity:.8,duration:1,ease:"power1.out"}),gsap.timeline().fromTo(`#${t}-community-clouds-front`,{x:220},{x:-300,duration:50,repeat:-1,ease:"none"},0).fromTo(`#${t}-community-clouds-back`,{x:220},{x:-300,duration:80,repeat:-1,ease:"none"},0)},null,5).call(e,["community",50],10).call(()=>{const o=gsap.timeline();o.to(`#${t}-community-wheel-back`,{rotation:"+=458",duration:2,ease:"back.in(1.7)"},0).to(`#${t}-community-tractor`,{x:80,duration:2,ease:"back.in(1.7)"},0).to(`#${t}-community-wheel-back`,{rotation:"-=458",duration:1,ease:"back.out(1.4)"},7).to(`#${t}-community-tractor`,{x:0,duration:1,ease:"back.out(1.4)"},7),o.repeat(-1).repeatDelay(10).yoyo(!0)},null,10).call(e,["community",75],15).call(t=>{t.forEach(t=>{gsap.to(t.selector,{drawSVG:"100%",duration:2})})},[o.animals],15).call(e,["community",100],20).call(i,[`#${t}-community-bird2-state1`,`#${t}-community-bird2-state2`],20).call(i,[`#${t}-community-bird1-state1`,`#${t}-community-bird1-state2`],21)};