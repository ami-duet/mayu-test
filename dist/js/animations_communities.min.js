/*! project-name v0.0.1 | (c) 2021 YOUR NAME | MIT License | http://link-to-your-git-repo.com */
const start25=5,start50=10,start75=15,start100=20,getTransition=()=>d3.transition().duration(200),illustrations=["community","school","distance","waterMCL","solution","coloring"],triggerAnimations=(t,o)=>{const e=illustrationsInfo.find(o=>o.community===t),i=(t,o,e)=>{const i="left"===e?"-":"+";gsap.timeline().to(t,{morphSVG:o,x:`${i}=10`,y:y="-=15",duration:.4,ease:"none"},0).to(t,{morphSVG:t,x:`${i}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:o,x:`${i}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:t,x:`${i}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:o,x:`${i}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:t,x:`${i}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:o,x:`${i}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:t,x:`${i}=10`,y:y="-=15",duration:.4,ease:"none"},">")},n=(o,e,i,n,a)=>{gsap.set(`#${t}-${o}-wheel-back, #${t}-${o}-wheel-front`,{transformOrigin:"50% 50%"},0);const s="back.in(1.7)",c="+"===i?"-":"+",u=gsap.timeline();u.to(`#${t}-${o}-wheel-back`,{rotation:`${i}=${n}`,duration:2,ease:s},3.1).to(`#${t}-${o}-wheel-front`,{rotation:`${i}=${a}`,duration:2,ease:s},3.1).to(`#${t}-${o}-tractor`,{x:`${i}${e}`,duration:3.1,ease:s},3.1).to(`#${t}-${o}-wheel-back`,{rotation:`${c}=${n}`,duration:1,ease:"back.out(1.4)"},7).to(`#${t}-${o}-wheel-front`,{rotation:`${c}=${a}`,duration:1,ease:"back.out(1.4)"},7).to(`#${t}-${o}-tractor`,{x:0,duration:1,ease:"back.out(1.4)"},7),u.repeat(-1).repeatDelay(7).yoyo(!0)},a=t=>{t.forEach(t=>{gsap.to(t.selector,{drawSVG:"100%",duration:2})})};if(o>=25){const s={trigger:`.village-${t} .section-community svg`,start:"top center",end:"bottom 0",onEnterBack:()=>c.restart(),onLeave:()=>c.pause()},c=gsap.timeline({scrollTrigger:s});o>=75&&e.animalsCommunity.forEach(o=>{o.selector=document.querySelectorAll(`#${t}-community-${o.id} path, #${t}-community-${o.id} line, #${t}-community-${o.id} polyline`),gsap.set(o.selector,{drawSVG:0})});const u=`${e.cloudsCommunity.direction}=${e.cloudsCommunity.distance}`;"totoral-bajo"===t?gsap.set(`#${t}-community-clouds-back-outline`,{x:u,opacity:0}):"las-mercedes"===t?gsap.set(`#${t}-community-clouds-front-outline, #${t}-community-clouds-back-outline`,{x:u,opacity:0}):"carrizalillo"===t&&gsap.set(`#${t}-community-clouds-outline`,{x:u,opacity:0}),gsap.set(`#${t}-community-clouds-front`,{opacity:0}),gsap.set(`#${t}-community-clouds-front`,{x:u});const r=()=>{const o=gsap.timeline();"totoral-bajo"===t?o.to(`#${t}-community-clouds-front`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${t}-community-clouds-front`,{x:-1*u,duration:20,ease:"sine.out"},"<-1").to(`#${t}-community-clouds-back-outline`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${t}-community-clouds-back-outline`,{x:-1*u,duration:20,ease:"sine.out"},"<-1"):"las-mercedes"===t?o.to(`#${t}-community-clouds-front, #${t}-community-clouds-front-outline`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${t}-community-clouds-front, #${t}-community-clouds-front-outline`,{x:-1*u,duration:20,ease:"sine.out"},"<-1").to(`#${t}-community-clouds-back-outline`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${t}-community-clouds-back-outline`,{x:-1*u,duration:20,ease:"sine.out"},"<-1"):"carrizalillo"===t?o.to(`#${t}-community-clouds-front, #${t}-community-clouds-outline`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${t}-community-clouds-front, #${t}-community-clouds-outline`,{x:-1*u,duration:20,ease:"sine.out"},"<-1"):o.to(`#${t}-community-clouds-front`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${t}-community-clouds-front`,{x:-1*u,duration:20,ease:"sine.out"},"<-1")},m=()=>{gsap.timeline().call(n,["community",e.vehicleCommunity.distance,e.vehicleCommunity.direction,e.vehicleCommunity.rotationWheelBack,e.vehicleCommunity.rotationWheelFront])},l=()=>{gsap.timeline().call(a,[e.animalsCommunity])},d=()=>{const o=gsap.timeline();"totoral-alto"===t?o.call(i,[`#${t}-community-bird1-state1`,`#${t}-community-bird1-state2`,"right"]).call(i,[`#${t}-community-bird3-state1`,`#${t}-community-bird3-state2`,"left"],">+1").call(i,[`#${t}-community-bird2-state1`,`#${t}-community-bird2-state2`,"left"],">+1").to(villageColorsSelector,{opacity:1,duration:3,ease:"sine.out",stagger:{each:.2,from:"random"}},">-1"):"totoral-bajo"==t?o.call(i,[`#${t}-community-bird1-state1`,`#${t}-community-bird1-state2`,"left"]).call(i,[`#${t}-community-bird3-state1`,`#${t}-community-bird3-state2`,"left"],">+1").call(i,[`#${t}-community-bird2-state1`,`#${t}-community-bird2-state2`,"left"],">+1").to(villageColorsSelector,{opacity:1,duration:3,ease:"sine.out",stagger:{each:.2,from:"random"}},">-1"):o.call(i,[`#${t}-community-bird2-state1`,`#${t}-community-bird2-state2`,"left"]).call(i,[`#${t}-community-bird1-state1`,`#${t}-community-bird1-state2`,"left"],1)};c.call(r,null,1),o>=50&&c.add(m,4),o>=75&&c.add(l,8),100===o&&c.add(d,12)}};