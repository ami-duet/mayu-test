/*! project-name v0.0.1 | (c) 2021 YOUR NAME | MIT License | http://link-to-your-git-repo.com */
const start25=5,start50=10,start75=15,start100=20,getTransition=()=>d3.transition().duration(200),illustrations=["community","school","distance","waterMCL","solution","coloring"],triggerAnimations=(o,t)=>{const i=illustrationsInfo.find(t=>t.community===o),n=(o,t,i)=>{const n="left"===i?"-":"+";gsap.timeline().to(o,{morphSVG:t,x:`${n}=10`,y:y="-=15",duration:.4,ease:"none"},0).to(o,{morphSVG:o,x:`${n}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(o,{morphSVG:t,x:`${n}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(o,{morphSVG:o,x:`${n}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(o,{morphSVG:t,x:`${n}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(o,{morphSVG:o,x:`${n}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(o,{morphSVG:t,x:`${n}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(o,{morphSVG:o,x:`${n}=10`,y:y="-=15",duration:.4,ease:"none"},">")},e=(t,i,n,e,a)=>{gsap.set(`#${o}-${t}-wheel-back, #${o}-${t}-wheel-front`,{transformOrigin:"50% 50%"},0);const c="back.in(1.7)",u="+"===n?"-":"+";gsap.to(`#${o}-community-tractor-color`,{opacity:1,duration:3,ease:"sine.out"});const s=gsap.timeline();s.to(`#${o}-${t}-wheel-back`,{rotation:`${n}=${e}`,duration:2,ease:c},3.1).to(`#${o}-${t}-wheel-front`,{rotation:`${n}=${a}`,duration:2,ease:c},3.1).to(`#${o}-${t}-tractor, #${o}-community-tractor-color`,{x:`${n}${i}`,duration:3.1,ease:c},3.1).to(`#${o}-${t}-wheel-back`,{rotation:`${u}=${e}`,duration:1,ease:"back.out(1.4)"},7).to(`#${o}-${t}-wheel-front`,{rotation:`${u}=${a}`,duration:1,ease:"back.out(1.4)"},7).to(`#${o}-${t}-tractor, #${o}-community-tractor-color`,{x:0,duration:1,ease:"back.out(1.4)"},7),s.repeat(-1).repeatDelay(7).yoyo(!0)},a=t=>{t.forEach(t=>{gsap.timeline().to(t.selector,{drawSVG:"100%",duration:2}).to(`#${o}-community-${t.id}-color`,{opacity:1,duration:3,ease:"sine.out"},">-0.5")})};if(t>=25){const c={trigger:`.village-${o} .section-community svg`,start:"top center",end:"bottom 0",onEnterBack:()=>u.restart(),onLeave:()=>u.pause()},u=gsap.timeline({scrollTrigger:c});t>=75&&i.animalsCommunity.forEach(t=>{t.selector=document.querySelectorAll(`#${o}-community-${t.id} path, #${o}-community-${t.id} line, #${o}-community-${t.id} polyline`),gsap.set(t.selector,{drawSVG:0})});const s=`${i.cloudsCommunity.direction}=${i.cloudsCommunity.distance}`;"totoral-bajo"===o?gsap.set(`#${o}-community-clouds-back-outline`,{x:s,opacity:0}):"las-mercedes"===o?gsap.set(`#${o}-community-clouds-front-outline, #${o}-community-clouds-back-outline`,{x:s,opacity:0}):"carrizalillo"===o&&gsap.set(`#${o}-community-clouds-outline`,{x:s,opacity:0}),gsap.set(`#${o}-community-clouds-front`,{opacity:0}),gsap.set(`#${o}-community-clouds-front, #${o}-community-clouds-back`,{x:s});const m=()=>{const t=gsap.timeline();"totoral-bajo"===o?t.to(`#${o}-community-clouds-front, #${o}-community-clouds-front-color, #${o}-community-sun-color`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${o}-community-clouds-front`,{x:-1*s,duration:20,ease:"sine.out"},"<-1").to(`#${o}-community-clouds-back, #${o}-community-clouds-back-outline`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${o}-community-clouds-back, #${o}-community-clouds-back-outline`,{x:-1*s,duration:20,ease:"sine.out"},"<-1"):"las-mercedes"===o?t.to(`#${o}-community-clouds-front, #${o}-community-clouds-front-outline, #${o}-community-sun-color`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${o}-community-clouds-front, #${o}-community-clouds-front-outline`,{x:-1*s,duration:20,ease:"sine.out"},"<-1").to(`#${o}-community-clouds-back, #${o}-community-clouds-back-outline`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${o}-community-clouds-back, #${o}-community-clouds-back-outline`,{x:-1*s,duration:20,ease:"sine.out"},"<-1"):"carrizalillo"===o?t.to(`#${o}-community-clouds-front, #${o}-community-clouds-outline, #${o}-community-sun-color`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${o}-community-clouds-front, #${o}-community-clouds-outline`,{x:-1*s,duration:20,ease:"sine.out"},"<-1").to(`#${o}-community-clouds-back`,{opacity:1,duration:3,ease:"sine.out"},2.5).to(`#${o}-community-clouds-back`,{x:-1*s,duration:22,ease:"sine.out"},"<-1"):t.to(`#${o}-community-clouds-front, #${o}-community-clouds-front-color, #${o}-community-sun-color`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${o}-community-clouds-front`,{x:-1*s,duration:20,ease:"sine.out"},"<-1").to(`#${o}-community-clouds-back`,{opacity:1,duration:3,ease:"sine.out"},2.5).to(`#${o}-community-clouds-back`,{x:-1*s,duration:22,ease:"sine.out"},"<-1")},r=()=>{gsap.timeline().call(e,["community",i.vehicleCommunity.distance,i.vehicleCommunity.direction,i.vehicleCommunity.rotationWheelBack,i.vehicleCommunity.rotationWheelFront])},l=()=>{gsap.timeline().call(a,[i.animalsCommunity])},d=()=>{const t=gsap.timeline();let e="";i.villageColorsCommunity.forEach((t,n)=>{const a=n===i.villageColorsCommunity.length-1?"":", ";e=e.concat(`#${o}-community-${t}-color${a}`)}),"totoral-alto"===o?t.call(n,[`#${o}-community-bird1-state1`,`#${o}-community-bird1-state2`,"right"]).call(n,[`#${o}-community-bird3-state1`,`#${o}-community-bird3-state2`,"left"],">+1").call(n,[`#${o}-community-bird2-state1`,`#${o}-community-bird2-state2`,"left"],">+1").to(e,{opacity:1,duration:3,ease:"sine.out",stagger:{each:.2,from:"random"}},">-1"):"totoral-bajo"==o?t.call(n,[`#${o}-community-bird1-state1`,`#${o}-community-bird1-state2`,"left"]).call(n,[`#${o}-community-bird3-state1`,`#${o}-community-bird3-state2`,"left"],">+1").call(n,[`#${o}-community-bird2-state1`,`#${o}-community-bird2-state2`,"left"],">+1").to(e,{opacity:1,duration:3,ease:"sine.out",stagger:{each:.2,from:"random"}},">-1"):t.call(n,[`#${o}-community-bird2-state1`,`#${o}-community-bird2-state2`,"left"]).call(n,[`#${o}-community-bird1-state1`,`#${o}-community-bird1-state2`,"left"],1).to(e,{opacity:1,duration:3,ease:"sine.out",stagger:{each:.2,from:"random"}},">-1")};u.call(m,null,1),t>=50&&u.add(r,4),t>=75&&u.add(l,8),100===t&&u.add(d,12)}};